{{ with .Params.hero }}
    {{ $class := "" }}

    {{ if $.Params.herolarge }}
        {{ $class = "hero--large" }}
    {{ end }}

    <div class="hero {{ $class }}">
        {{ $path := partial "fn/Concat" (slice "images/" .) }}
        {{ $image := resources.Get $path }}
        {{ $resized := partial "fn/ResizeSmart" (dict "image" $image "length" 2000) }}

        {{ with $resized }}
            <img class="hero__img" loading="lazy" src="{{ .RelPermalink }}">
        {{ else }}
            {{ errorf (partial "fn/Concat" (slice "Hero: unable to find " $path)) }}
        {{ end }}

        <div class="hero__overlay">
            <h1 class="hero__title inverted">{{ $.Title }}</h1>
        </div>
    </div>
{{ end }}
