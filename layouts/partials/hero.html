{{ with .Params.hero }}
    {{ $class := "" }}

    {{ if $.Params.herolarge }}
        {{ $class = "hero--large" }}
    {{ end }}

    <div class="hero {{ $class }}">
        {{ $path := add "images/" . }}
        {{ $image := resources.Get $path }}
        {{ $resized := partial "fn/ResizeSmart" (dict "image" $image "length" 2000) }}

        {{ with $resized }}
            <img class="hero__img fadeload" loading="lazy" onload="this.style.opacity=1" src="{{ .RelPermalink }}">
        {{ else }}
            {{ errorf add "Hero: unable to find " $path }}
        {{ end }}

        <div class="hero__overlay">
            <h1 class="hero__title inverted column">{{ $.Title }}</h1>
        </div>
    </div>
{{ end }}
