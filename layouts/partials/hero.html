{{ with .Params.hero }}
    {{ $style := "" }}

    {{ with $.Params.herosize }}
        {{ $style = partial "fn/Concat" (slice "height: " .) }}
    {{ end }}

    <div class="hero" style="{{ $style }}">
        {{ $path := partial "fn/Concat" (slice "images/" .) }}
        {{ $image := resources.Get $path }}
        {{ $resized := partial "fn/ResizeSmart" (dict "image" $image "length" 2000) }}

        {{ with $resized }}
            <img class="hero__img" loading="lazy" src="{{ .RelPermalink }}">
        {{ else }}
            {{ fmt.Errorf (partial "fn/Concat" (slice "Hero: unable to find " $path)) }}
        {{ end }}

        <div class="hero__overlay">
            <h1 class="hero__title inverted">{{ $.Title }}</h1>
        </div>
    </div>
{{ end }}
